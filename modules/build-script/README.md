üåå Galaxy Scanner - Build Script Module
üìñ –û–±–∑–æ—Ä
–ú–æ–¥—É–ª—å —Å–±–æ—Ä–∫–∏ –¥–ª—è Galaxy Scanner, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–∫–∏ "–≥–∞–ª–∞–∫—Ç–∏–∫–∞" –≤ –≤–µ–±-–¥–æ—Å—Ç—É–ø–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Vercel.

üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
text
modules/build-script/
‚îú‚îÄ‚îÄ index.js                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ build-processor.js       # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ file-utils.js           # –£—Ç–∏–ª–∏—Ç—ã —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ html-generator.js       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ url-processor.js        # –û–±—Ä–∞–±–æ—Ç–∫–∞ URL –∏ –ø—É—Ç–µ–π
‚îú‚îÄ‚îÄ galaxy-scanner.js       # –û–±–µ—Ä—Ç–∫–∞ –≤–æ–∫—Ä—É–≥ GalaxyScanner
‚îî‚îÄ‚îÄ config.js               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏
npm run build

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–±–æ—Ä–∫–∏
npm run scan

# –°–ø—Ä–∞–≤–∫–∞
npm run dev
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
Node.js 18.0.0 –∏–ª–∏ –≤—ã—à–µ

–ü–∞–ø–∫–∞ –≥–∞–ª–∞–∫—Ç–∏–∫–∞ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã - –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –ø–∞–ø–∫–∏ "–≥–∞–ª–∞–∫—Ç–∏–∫–∞"

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è sitemap - –°–æ–∑–¥–∞–Ω–∏–µ sitemap.json –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –º–æ–¥—É–ª–µ–π

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏ –≤ –ø–∞–ø–∫—É public

–û–±—Ä–∞–±–æ—Ç–∫–∞ URL - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –ø—É—Ç–µ–π –¥–ª—è –≤–µ–±-–¥–æ—Å—Ç—É–ø–∞

–°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤ –ø–∞–ø–∫–µ public/ —Å–æ–∑–¥–∞—é—Ç—Å—è:

text
public/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫–∞–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ –≥–∞–ª–∞–∫—Ç–∏–∫–∞.html          # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–∞–ª–∞–∫—Ç–∏–∫—É
‚îú‚îÄ‚îÄ –≥–∞–ª–∞–∫—Ç–∏–∫–∞/              # –ö–æ–ø–∏—è –∏—Å—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ list.html
‚îÇ   ‚îî‚îÄ‚îÄ [–ø–æ–¥–ø–∞–ø–∫–∏]/
‚îî‚îÄ‚îÄ results/
    ‚îî‚îÄ‚îÄ sitemap.json        # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö
‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (config.js)
javascript
export const BUILD_CONFIG = {
    BASE_URL: 'https://www.bioapgreid.ru',  // –ë–∞–∑–æ–≤—ã–π URL —Å–∞–π—Ç–∞
    RESULTS_DIR: 'results',                 // –ü–∞–ø–∫–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    SITEMAP_FILE: 'sitemap.json'           // –ò–º—è —Ñ–∞–π–ª–∞ sitemap
};
–¢–∏–ø—ã —Å—É—â–Ω–æ—Å—Ç–µ–π
javascript
export const ENTITY_CONFIG = {
    classMap: {
        galaxy: 'galaxy',      // –ì–∞–ª–∞–∫—Ç–∏–∫–∞
        planet: 'planet',      // –ü–ª–∞–Ω–µ—Ç–∞
        moon: 'moon',          // –°–ø—É—Ç–Ω–∏–∫
        asteroid: 'asteroid',  // –ê—Å—Ç–µ—Ä–æ–∏–¥
        debris: 'debris'       // –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –º—É—Å–æ—Ä
    },
    icons: {
        galaxy: '‚≠ê',
        planet: 'ü™ê', 
        moon: 'üåô',
        asteroid: '‚òÑÔ∏è',
        debris: 'üõ∞Ô∏è'
    }
};
üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π
–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ (build-processor.js)
javascript
import { buildForVercel } from './build-processor.js';

// –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏
buildForVercel();
–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (file-utils.js)
javascript
import { copyFolderRecursive, createDirectoryIfNotExists } from './file-utils.js';

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏
copyFolderRecursive(source, target);

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
createDirectoryIfNotExists(dirPath);
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML (html-generator.js)
javascript
import { generateHTML, createGalaxyHtml } from './html-generator.js';

// –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
const html = generateHTML(scanResult);

// –§–∞–π–ª —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
createGalaxyHtml(publicDir, scanResult);
–û–±—Ä–∞–±–æ—Ç–∫–∞ URL (url-processor.js)
javascript
import { addFullUrls, generateEntityLinks } from './url-processor.js';

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö URL –∫ —Å—É—â–Ω–æ—Å—Ç—è–º
addFullUrls(entity);

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –¥–ª—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
const treeHTML = generateEntityLinks(entity);
üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ URL –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
https://www.bioapgreid.ru/ - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

https://www.bioapgreid.ru/–≥–∞–ª–∞–∫—Ç–∏–∫–∞.html - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

https://www.bioapgreid.ru/–≥–∞–ª–∞–∫—Ç–∏–∫–∞/ - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É

–î–ª—è –º–æ–¥—É–ª–µ–π (API)
https://www.bioapgreid.ru/results/sitemap.json - –î–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ü—Ä–∏–º–µ—Ä—ã –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫
https://www.bioapgreid.ru/–≥–∞–ª–∞–∫—Ç–∏–∫–∞/level1/index.html

https://www.bioapgreid.ru/–≥–∞–ª–∞–∫—Ç–∏–∫–∞/level1/sputnik1/index.html

üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
–û—à–∏–±–∫–∞ "–ü–∞–ø–∫–∞ '–≥–∞–ª–∞–∫—Ç–∏–∫–∞' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–∞–ø–∫–∞ –≥–∞–ª–∞–∫—Ç–∏–∫–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

text
–≥–∞–ª–∞–∫—Ç–∏–∫–∞/
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ level1/
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îî‚îÄ‚îÄ sputnik1/
‚îÇ       ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ level2/
    ‚îî‚îÄ‚îÄ index.html
–û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö.

–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏ –≤ sitemap
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è addFullUrls –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–µ URL.

üîÑ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π
–û–±–Ω–æ–≤–∏—Ç–µ ENTITY_CONFIG –≤ config.js

–î–æ–±–∞–≤—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –≤ html-generator.js

–û–±–Ω–æ–≤–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ url-processor.js

–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π
–ò–∑–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é getStyles() –≤ html-generator.js –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞.

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –≤ –ø–∞–ø–∫—É build-script/ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏—Ö –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å.

üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ –≥–∞–ª–∞–∫—Ç–∏–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã HTML —Ñ–∞–π–ª–æ–≤

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js –≤–µ—Ä—Å–∏–∏ 18+

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–ú–æ–¥—É–ª—å —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ Galaxy Scanner.
